# Environment Configuration Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
DJANGO_ENVIRONMENT=development

# Security - CRITICAL: Generate a unique secret key for production!
# You can generate one using: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-secret-key-here

# Debug mode - NEVER set to True in production
DEBUG=True

# Allowed hosts (comma-separated) - MUST be set for production
ALLOWED_HOSTS=localhost,127.0.0.1

# CSRF trusted origins (comma-separated) - MUST be set for production with HTTPS
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# CORS allowed origins (comma-separated) - Set for frontend applications
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Time zone
TIME_ZONE=Europe/London

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database engine: sqlite, postgresql, mysql
DB_ENGINE=sqlite

# PostgreSQL configuration (when DB_ENGINE=postgresql)
DB_NAME=labitory
DB_USER=postgres
DB_PASSWORD=your-db-password
DB_HOST=localhost
DB_PORT=5432
DB_SSLMODE=require

# MySQL configuration (when DB_ENGINE=mysql)
# DB_NAME=labitory
# DB_USER=root
# DB_PASSWORD=your-db-password
# DB_HOST=localhost
# DB_PORT=3306

# =============================================================================
# CACHE & REDIS CONFIGURATION
# =============================================================================

# Cache backend: redis, database
CACHE_BACKEND=redis

# Redis URL for cache, sessions, and Celery
REDIS_URL=redis://127.0.0.1:6379/1

# Redis session configuration
REDIS_SESSION_DB=2

# Celery broker and result backend
CELERY_BROKER_URL=redis://127.0.0.1:6379/0
CELERY_RESULT_BACKEND=redis://127.0.0.1:6379/0

# Redis persistence configuration
REDIS_SAVE_ENABLED=True
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Email backend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP configuration (for real email sending)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# SMS CONFIGURATION (Twilio)
# =============================================================================

# Twilio credentials - Required for SMS notifications
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# PUSH NOTIFICATIONS
# =============================================================================

# VAPID keys for web push notifications
# Generate using: python -c "from py_vapid import Vapid; v = Vapid(); v.generate_keys(); print('Private:', v.private_key_pem().strip()); print('Public:', v.public_key_urlsafe())"
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_SUBJECT=mailto:admin@yourdomain.com

# =============================================================================
# GOOGLE OAUTH & CALENDAR INTEGRATION
# =============================================================================

# Google OAuth2 credentials for calendar integration
GOOGLE_OAUTH2_CLIENT_ID=your-google-client-id
GOOGLE_OAUTH2_CLIENT_SECRET=your-google-client-secret

# Microsoft Azure AD credentials for SSO authentication
AZURE_AD_TENANT_ID=your-azure-tenant-id
AZURE_AD_CLIENT_ID=your-azure-client-id
AZURE_AD_CLIENT_SECRET=your-azure-client-secret

# =============================================================================
# FILE STORAGE & AWS S3
# =============================================================================

# Media backend: local, s3
MEDIA_BACKEND=local

# AWS S3 configuration (when MEDIA_BACKEND=s3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=your-bucket-name
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=cdn.yourdomain.com

# =============================================================================
# SECURITY & SSL CONFIGURATION
# =============================================================================

# SSL/HTTPS settings
SECURE_SSL_REDIRECT=False

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Sentry error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
ENVIRONMENT=development
APP_VERSION=1.0.0

# Health checks
HEALTH_CHECK_ENABLED=True

# Rate limiting
RATELIMIT_ENABLE=True

# =============================================================================
# SCHEDULER & BACKGROUND TASKS
# =============================================================================

# Enable/disable scheduler
SCHEDULER_AUTOSTART=False

# =============================================================================
# LAB-SPECIFIC SETTINGS
# =============================================================================

# Lab booking configuration
LAB_BOOKING_ADVANCE_DAYS=30

# =============================================================================
# FEATURE FLAGS (for staging/testing)
# =============================================================================

# Feature flags for new features
ENABLE_NEW_DASHBOARD=False
ENABLE_ADVANCED_REPORTING=False
ENABLE_BETA_FEATURES=False

# Test data management (staging only)
ALLOW_TEST_DATA_RESET=False

# =============================================================================
# FILE UPLOAD & VALIDATION SETTINGS
# =============================================================================

# File upload size limits (in bytes)
MAX_FILE_SIZE=10485760  # 10MB
MAX_IMAGE_SIZE=5242880  # 5MB
MAX_DOCUMENT_SIZE=20971520  # 20MB

# File validation settings
FILE_VALIDATION_ENABLED=True
FILE_VIRUS_SCAN_ENABLED=True
FILE_CONTENT_SCAN_ENABLED=True
FILE_STRIP_EXIF=True

# Image processing settings
IMAGE_AUTO_ORIENT=True
IMAGE_JPEG_QUALITY=85
IMAGE_WEBP_QUALITY=80
IMAGE_MAX_DIMENSIONS=2048x2048
IMAGE_GENERATE_THUMBNAILS=True

# ClamAV virus scanning (optional)
CLAMAV_ENABLED=False
CLAMAV_SOCKET_PATH=/var/run/clamav/clamd.ctl
CLAMAV_TCP_HOST=localhost
CLAMAV_TCP_PORT=3310

# =============================================================================
# DEVELOPMENT-ONLY SETTINGS
# =============================================================================

# Enable Django debug toolbar (development only)
ENABLE_DEBUG_TOOLBAR=False

# Show SQL queries in console (development only)
SHOW_SQL_QUERIES=False